/*
Разработать консольное приложение, создающее два списка из целых
чисел и выводящее на экран те элементы первого списка, которых нет во
втором. Вывести на экран количество найденных элементов и их среднее
арифметическое
*/


#include <iostream>
#include <conio.h>


using namespace std;

struct item
{
	int a;
	item *next;
};

item *NewEl(int b)
{
	item *el;
	el = (item*)malloc(sizeof(item));
	if (el == NULL)
	{
		return NULL;
	}
	el->next = NULL;
	el->a = b;
	return el;
}

item *AddEl(item *head, int b)
{
	if (head == NULL)
	{
		head = NewEl(b);
	}
	else
	{
		item *i;
		for (i = head; i->next != NULL; i = i->next) {}
		i->next = NewEl(b);
	}
	return head;
}


int PrintSp(item *head1, item *head2, int n)
{
	int summ = 0;
	int x=0; //
	item *i;
	item *j;
	for (i = head1; i != NULL; i = i->next) {
		for (j = head2; j != NULL; j = j->next) {
			if (i->a != j->a) {
				x++;
			}
			if (x == n&&x != 0) {
				printf("%d", i->a);
				summ++;
			}
		}
		x = 0;
	}
	return summ;
}


void DelSp(item *head)
{
	item *i, *del;
	i = head; while (i != NULL)
	{
		del = i;
		i = i->next;
		free(del);
	}
}


int main()
{
	item *Sp1 = NULL;
	item *Sp2 = NULL;
	int i, a, n;
	printf("Enter kolichestvo elementov v 1 spiske ");
	cin >> n;
	for (i = 0; i < n; i++)
	{
		printf("Enter element ");
		scanf_s("%d", &a);
		Sp1 = AddEl(Sp1, a);
	}
	printf("Enter kolichestvo elementov v 2 spiske ");
	cin >> n;
	for (i = 0; i < n; i++)
	{
		printf("Enter element ");
		scanf_s("%d", &a);
		Sp2 = AddEl(Sp2, a);
	}
	printf("povtoryauchiesya Elementy spisca:\n");
	int summ = PrintSp(Sp1, Sp2,n);
	printf("Kolichestvo elementov:\n %d", summ);
	DelSp(Sp1);
	DelSp(Sp2);
	_getch();

	return 0;
}
